<?php/** * article_show.php     ZCMS 文章前台展示 *  * @copyright    (C) 2005 - 2010  ZCMS * @licenes      http://www.zcms.cc * @lastmodify   2010-11-17 * @author       zhuayi   * @QQ			 2179942 */ $id = inject_check($_REQUEST['id']);//-----查询文章信息$info = $query->one_array("select * from ".T."article as a where id ='".$id."'");//-----查询SEO信息$seo = $query->one_array("select * from ".T."seo where tables ='article' and aid='".$id."'");if ($article_tpl!='default'){	$_REQUEST['c_file'] = $article_tpl.'/文章正文.html';	$path = str_replace(ZCMS_ROOT,'',$article_tpl).'/';}$webname .= ' - Powered by Zcms!';//----下一篇   上一篇$info['pre'] = prenext($id,'<');$info['next'] = prenext($id,'>');//----当前位置$info['position'] = position($info['cid']);//----待续排列数组arsort($info['position']);function position($id){	global $query,$position;	$position++;	$info[$position] = $query->one_array("select a.classname,parent_id,a.id,b.url from ".T."article_class as a left join ".T."seo as b on a.id = b.aid and b.tables = 'article_class' where a.id = ".$id);	if (empty($info[$position]['url']))	{		$info[$position]['url'] = article_class_url($info[$position]['id']);	}	if ($info[$position]['parent_id']!='0')	{		$info = $info + position($info[$position]['parent_id']);	}	return $info;}?>